# Spring batch

## Spring Batch의 장점

1. 병렬처리 및 분산 처리를 지원합니다.
2. 장애가 발생했을 때 작업을 재시도하거나 이전 상태로 복구하는 메커니즘을 제공합니다.
3. 배치작업의 실행 상태를 모니터링하고, 작업 실행 로그 및 통계 정보를 쉽게 관리할 수 있습니다.
4. 다양한 배치작업에서 공통으로 사용되는 로직을 추상화하여 제공합니다.
5. 모듈화된 구조를 제공하기 때문에 유지보수의 장점이 있습니다.
6. 다양한 Data Source를 지원합니다. <br> DB, 파일, 메시지 큐 등 다양한 Data Source에서 데이터를 추출/처리할 수 있습니다.
7. Spring framework의 일환이기 때문에 단위테스트와 통합테스트를 수행하기 쉽습니다.

## Spring Batch와 멱등성

### 멱등성이란?

연산을 여러번 하더라도 결과가 달라지지 않는 성질을 의미합니다.

### 멱등성이 깨진 경우

- 오늘 날짜의 사용자 수를 집계하는 배치가 있다고 가정해 봅니다.

> 오늘 날짜를 얻기 위해 LocalDateTime.now() 메서드를 사용해 오늘 날짜를 가져와서 처리할 수 있습니다.

- 이 경우 어제의 배치에서 오류가 발생하여 다시 어제의 배치를 실행해야 할 때에는 소스를 수정하여 다시 배포하고 롤백하는 과정을 거쳐야 합니다.
- 이와 같은 상황에서 멱등성이 깨졌다고 얘기할 수 있습니다.

### Spring Batch와 멱등성

Spring Batch에서는 멱등서을 유지하기 위해 `Spring Batch Job Parameter`를 통해 원하는 값을 외부에서 주입시켜주는 방법을 사용합니다.
